<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#FFFFFF" />

    <link rel="apple-touch-icon" href="../img/apple-icon.png" />

    <meta
      name="description"
      content="A Firebase programmatic UIKit chat app for people who have strange friends"
    />

    <meta
      property="og:title"
      content="Stranger Chats - Viktor Mauzer, iOS Developer"
    />
    <meta
      property="og:description"
      content="A Firebase programmatic UIKit chat app for people who have strange friends"
    />
    <meta
      property="og:image"
      content="https://viktormauzer.github.io/img/stranger-chats/web-mockup-share.png"
    />
    <meta
      property="og:url"
      content="https://viktormauzer.github.io/portfolio/stranger-chats.html"
    />
    <meta
      property="og:site_name"
      content="Portfolio - Viktor Mauzer, iOS Developer"
    />

    <link rel="shortcut icon" type="image/jpg" href="../img/favicon.png" />
    <link rel="stylesheet" href="../style.css?v=2.0" />
    <title>Stranger Chats - Viktor Mauzer, iOS Developer</title>
  </head>
  <body ontouchstart="">
    <header class="header">
      <div class="header__button no__highlights">
        <div class="header__ham">
          <span>&nbsp;</span>
          <span>&nbsp;</span>
          <span>&nbsp;</span>
        </div>
      </div>
      <div class="header__bg">&nbsp;</div>
      <nav class="header__nav">
        <div class="header__nav-item">
          <span>Portfolio</span>
          <ul>
            <li>
              <a class="header__nav-link" href="/portfolio/stayfitshop.html"
                >StayFitShop</a
              >
            </li>
            <li>
              <a class="header__nav-link" href="/portfolio/stranger-chats.html"
                >Stranger Chats</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/CombinedLogin"
                >CombinedLogin →</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/CustomTabBar"
                >CustomTabBar →</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/YTFilter"
                >YTFilter →</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/SideMenu"
                >SideMenu →</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/TheSlider"
                >TheSlider →</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/openweather-UIKit"
                >OpenWeather →</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/FriendFaceChallenge"
                >FriendFace Challenge →</a
              >
            </li>
            <li>
              <a
                aria-label="Github"
                rel="noreferrer noopener"
                target="_blank"
                class="header__nav-link"
                href="https://github.com/viktormauzer/BMICalculator-iOS-UIKit"
                >BMICalculator →</a
              >
            </li>
          </ul>
        </div>
        <div class="header__nav-item">
          <span>menu</span>
          <ul>
            <li>
              <a class="header__nav-link" href="/index.html">Home</a>
            </li>
            <li><a class="header__nav-link" href="../about.html">About</a></li>
            <li>
              <a class="header__nav-link" href="../privacy.html">Privacy</a>
            </li>
          </ul>
        </div>
        <div class="header__nav-item">
          <span>Contact</span>
          <ul>
            <li>
              <a
                class="button button-white no__highlights"
                rel="noreferrer noopener"
                target="_blank"
                href="https://twitter.com/viktormauzer"
              >
                <svg class="button-icon">
                  <use xlink:href="/icons/sprite.svg#vector-twitter"></use>
                </svg>
                Twitter
              </a>
            </li>
            <li>
              <a
                class="button button-white no__highlights"
                rel="noreferrer noopener"
                target="_blank"
                href="https://viktormauzer.github.io/files/ViktorMauzerCV.pdf"
              >
                Download CV
              </a>
            </li>
            <li>
              <div class="button send-email button-white no__highlights">
                <svg class="button-icon">
                  <use xlink:href="/icons/sprite.svg#vector-mail"></use>
                </svg>
                Email Address
              </div>
              <div class="email-address"></div>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <section class="portfolio__item">
      <div class="portfolio__item-img stranger__chats-img">&nbsp;</div>
      <div class="portfolio__item-container">
        <div class="portfolio__item-heading">
          <h1>Stranger chats</h1>
        </div>
        <article class="portfolio__item-content">
          <p>
            A Firebase programmatic UIKit chat app for people who have strange
            friends. Users can register their account, login, add friends via
            their email address, add their friends' profile image and chat. All
            data is synced to the Firebase Firestore database.
          </p>
          <p>Here are some of the tools and techniques I used:</p>
          <ul>
            <li>
              UIKit - Programmatic UI (only one storyboard just for the launch
              screen)
            </li>
            <li>MVC design pattern</li>
            <li>Delegate/Protocol pattern</li>
            <li>Async/Await</li>
            <li>Firebase SDK (Firebase Auth & Firestore DB)</li>
            <li>Cocoapods</li>
            <li>Files Directory for saving and loading profile images</li>
          </ul>
          <p>
            The app has several view controllers - welcome view controller,
            login/register, add/edit friends, list of friends and messages view
            controller. I did my best to separate the logic of the app from the
            views and user actions on view controllers. For the most part I used
            async/await as much as I could for the Firebase operations and
            sometimes escaping closures for certain functions like loading
            messages from the Firestore database.
          </p>
          <p>
            Currently, this app does not support notifications and I might
            implement that in the future.
          </p>
          <div class="gallery gallery__3">
            <img
              class="lazy-img"
              data-src="../img/stranger-chats/welcomeVC.png"
              src="../img/lazy.png"
              alt="screenshot"
            />
            <img
              class="lazy-img"
              data-src="../img/stranger-chats/loginVC.png"
              src="../img/lazy.png"
              alt="screenshot"
            />
            <img
              class="lazy-img"
              data-src="../img/stranger-chats/addEditFriendVC.png"
              src="../img/lazy.png"
              alt="screenshot"
            />
          </div>
          <div class="gallery gallery__2">
            <img
              class="lazy-img"
              data-src="../img/stranger-chats/friendsVC.png"
              src="../img/lazy.png"
              alt="screenshot"
            />
            <img
              class="lazy-img"
              data-src="../img/stranger-chats/messagesVC.png"
              src="../img/lazy.png"
              alt="screenshot"
            />
          </div>
          <p>
            I did my best to set constraints programmatically so the app works
            on all iPhone screen sizes in portrait mode. I did the same for the
            custom cells for friends list and messages as well.
          </p>
          <p>
            The app supports editing a friend (name & profile photo) and
            deleting already added friends by swipe actions. All changes are
            updated in the Firestore database in real time. The profile photo
            chosen by the user (directly from a camera or from the library) is
            saved in the files directory of the app on device. However, the
            unique identifier of the photo is saved in the Firestore database as
            a string reference so it can be loaded from the directory. Upon
            editing the profile photo, the old photo used for that particular
            friend is deleted from the directory and replaced with the new one
            unless the picture is the default one which comes from the assets
            catalog.
          </p>
          <p>
            Every message has its own timestamp saved in the database. I used a
            computed property in the Message model to format the time each
            message is sent so it shows the time in the UI correctly.
          </p>
          <p>
            The app performs a check each time a user adds a friend to see if
            the added user exists in the database at all (text field updates as
            the user types the email address) and if the friend being added
            already added the user as a friend before. Based on this check the
            app creates a new collection in the Firestore database where
            messages between the two will be saved. If the collection already
            exists, the added friend gets a reference to the exact collection as
            a string property. This way, there will be no duplication in the DB
            and loading messages is easier.
          </p>
          <h2>What I learned building this app</h2>
          <p>
            This is the first time I tried programmatic UI in UIKit so it took
            some research, but this is what I took from it all:
          </p>
          <ul>
            <li>
              How to separate concerns regarding the app logic (communicating
              with Firestore database) and visual representation of the data
            </li>
            <li>
              How to work with Firebase authentication, register users via email
              address and password, login and log out those users and edit their
              data.
            </li>
            <li>
              How to create documents and collections in the Firestore database,
              use custom models to save and merge properties in those documents,
              edit and delete specific properties etc.
            </li>
            <li>
              How to use files directory to save data on device, load it as its
              needed and delete it
            </li>
            <li>How to use swipe actions on cells in table view controllers</li>
            <li>How to create custom table view cells</li>
            <li>
              How to work with navigation controllers without using storyboards
            </li>
            <li>
              How to use Scene Delegate to setup a project for programmatic UI
            </li>
            <li>How to use weak self to prevent memory problems</li>
            <li>How to debug and check for memory problems in Xcode</li>
          </ul>
          <p>
            I learned a lot building this app and I'm sure many things could be
            done better, but for the moment I am happy with how it turned out
            and that it works. 😅
          </p>
          <p>
            In the future, I would love to add real time notifications as
            messages come in, build caching and more comprehensive error
            handling. At the moment, the app uses simple alerts to notify user
            about problems.
          </p>
          <p>
            Special thanks to my sister, Ivana Maric of LePunktNoirStudio for
            creating all the illustrations for this app. We both love creepy
            stuff and that's why the app has its name and visual style.
            <a
              rel="noreferrer noopener"
              target="_blank"
              href="https://lepunktnoir.studio"
              >Check out her portfolio here.</a
            >
          </p>
          <p>Check out the project on my github repo:</p>
          <a
            aria-label="Github"
            rel="noreferrer noopener"
            target="_blank"
            href="https://github.com/viktormauzer/Stranger-Chats"
            class="github__button button button-dark no__highlights"
          >
            <svg class="github__button-icon button-icon-light">
              <use xlink:href="/icons/sprite.svg#vector-github-logo"></use>
            </svg>
            <svg class="github__button-icon button-icon-light">
              <use xlink:href="/icons/sprite.svg#vector-github-logo-text"></use>
            </svg>
          </a>
        </article>
      </div>
    </section>

    <footer class="footer">
      <div class="footer__content">
        <a href="../about.html">About/Contact</a>
        <a href="../privacy.html">Privacy</a>
      </div>
    </footer>

    <script src="../script.js"></script>
  </body>
</html>
